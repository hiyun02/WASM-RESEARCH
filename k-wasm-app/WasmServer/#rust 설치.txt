 #rust 설치
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
rustup update
rustc --verison

#rust 컴파일러에 타겟 설정 (최초 1회)
rustup target add wasm32-wasi

#러스트 프로젝트 생성
cargo new 프로젝트명
vi Cargo.toml
vi src/main.rs

#wasmedge 설치 (python3 이상 필요)
curl -sSf https://raw.githubusercontent.com/WasmEdge/WasmEdge/master/utils/install.sh | bash
source $HOME/.wasmedge/env

#빌드에 필요한 데몬 설치
sudo apt update
sudo apt-get install clang
sudo apt-get install  libc6-dev build-essential llvm-dev
sudo apt install openssl libssl-dev

echo 'export WASMEDGE_HOME=/root/.wasmedge' >> ~/.bashrc
echo 'export PATH=$WASMEDGE_HOME/bin:$PATH' >> ~/.bashrc
echo 'export LD_LIBRARY_PATH=$WASMEDGE_HOME/lib:$LD_LIBRARY_PATH' >> ~/.bashrc
source ~/.bashrc

#wasi-sdk 설치 및 환경변수 설정

cd /opt
export WASI_VERSION=20
export WASI_VERSION_FULL=${WASI_VERSION}.0
wget https://github.com/WebAssembly/wasi-sdk/releases/download/wasi-sdk-${WASI_VERSION}/wasi-sdk-${WASI_VERSION_FULL}-linux.tar.gz --no-check--certificate
tar xvf wasi-sdk-${WASI_VERSION_FULL}-linux.tar.gz

mv wasi-sdk-20.0-linux.tar.gz wasi-sdk

export WASI_SDK_PATH=/opt/wasi-sdk
export PATH=$WASI_SDK_PATH/bin:$PATH
export CC="clang --target=wasm32-wasi --sysroot=$WASI_SDK_PATH/share/wasi-sysroot"
export AR=llvm-ar
export RANLIB=llvm-ranlib